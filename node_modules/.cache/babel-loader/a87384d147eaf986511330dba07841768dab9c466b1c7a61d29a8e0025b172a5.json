{"ast":null,"code":"var _jsxFileName = \"/home/renan/Desktop/KENZIE/M3/SPRINT 5/ENTREGAS/VERCEL/renangiaretta./kenzieburguer/src/components/CartModal/index.tsx\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect } from 'react';\nimport { CartContext } from '../../contexts/CartContext';\nimport { StyledButtonSecondary } from '../../styles/Buttons';\nimport { StyledCartModal } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartModal = () => {\n  _s();\n  const {\n    setModalView,\n    productsOnCart,\n    setProductsOnCart,\n    productCount,\n    addProductOnCart,\n    removeProductOnCart,\n    deleteProductOnCart\n  } = useContext(CartContext);\n  useEffect(() => {\n    setProductsOnCart(productCount);\n  }, []);\n  function closeModal() {\n    setModalView(false);\n  }\n  const totalPrice = productsOnCart.reduce((sum, item) => sum + Number(item.count * item.price), 0);\n  function sumOfItens() {\n    return productsOnCart.reduce((sum, product) => sum + product.count, 0);\n  }\n  function handlePlus(item) {\n    sumOfItens();\n    const totalCount = sumOfItens();\n    addProductOnCart(item);\n    localStorage.setItem('TOTALCOUNT', `${totalCount}`);\n  }\n  function handleMinus(item) {\n    sumOfItens();\n    const totalCount = sumOfItens();\n    removeProductOnCart(item);\n    localStorage.setItem('TOTALCOUNT', `${totalCount}`);\n  }\n  return /*#__PURE__*/_jsxDEV(StyledCartModal, {\n    className: \"modalBackground\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modalContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Carrinho de compras\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: closeModal,\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: productsOnCart.map(item => item.count > 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.img,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-interactions-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"counter-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePlus(item),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: item.count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleMinus(item),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteProductOnCart(item),\n            children: \"Remover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this) : null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total-price\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: totalPrice.toFixed(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(StyledButtonSecondary, {\n        className: \"title1\",\n        onClick: () => setProductsOnCart([]),\n        children: \"Remover todos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(CartModal, \"eGXUoExmMeF6ZoNWPXVJ7yiC0EI=\");\n_c = CartModal;\nexport default CartModal;\nvar _c;\n$RefreshReg$(_c, \"CartModal\");","map":{"version":3,"names":["useContext","useEffect","CartContext","StyledButtonSecondary","StyledCartModal","CartModal","setModalView","productsOnCart","setProductsOnCart","productCount","addProductOnCart","removeProductOnCart","deleteProductOnCart","closeModal","totalPrice","reduce","sum","item","Number","count","price","sumOfItens","product","handlePlus","totalCount","localStorage","setItem","handleMinus","map","img","name","id","toFixed"],"sources":["/home/renan/Desktop/KENZIE/M3/SPRINT 5/ENTREGAS/VERCEL/renangiaretta./kenzieburguer/src/components/CartModal/index.tsx"],"sourcesContent":["import { useContext, useEffect } from 'react'\nimport { CartContext } from '../../contexts/CartContext'\nimport { StyledButtonPrimary, StyledButtonSecondary } from '../../styles/Buttons'\nimport { StyledCartModal } from './styles'\nconst CartModal = ( ) => {\n   \n  type iProduct = {\n    id   : number,\n    name : string,\n    count: number,\n    price: number,\n    img  : 'img.png'\n  }\n\n  const { setModalView, productsOnCart, setProductsOnCart, productCount, addProductOnCart, removeProductOnCart, deleteProductOnCart } = useContext(CartContext)\n\n  useEffect (() => {\n    setProductsOnCart(productCount)\n  },[])\n\n  function closeModal () {\n    setModalView(false)\n  }\n\n  const totalPrice = productsOnCart.reduce((sum, item) => sum + Number(item.count * item.price), 0)\n  function sumOfItens() {\n    return productsOnCart.reduce((sum, product) => sum + product.count, 0)\n  }\n  function handlePlus( item: iProduct ) {\n    sumOfItens()\n    const totalCount = sumOfItens()\n    addProductOnCart(item)\n    localStorage.setItem('TOTALCOUNT', `${totalCount}`)\n  }\n  function handleMinus( item: iProduct ) {\n    sumOfItens()\n    const totalCount = sumOfItens()\n    removeProductOnCart(item)\n    localStorage.setItem('TOTALCOUNT', `${totalCount}`)\n  }\n\n  \n  return (\n    <StyledCartModal className = 'modalBackground'>\n    <div             className = 'modalContainer'>\n    <div             className = 'modal-header'>\n        <h2>Carrinho de compras</h2>\n        <button className = 'close-btn' onClick = {closeModal}>\n          X\n        </button>\n      </div>\n        <ul>\n            {productsOnCart.map((item) => (item.count > 0 ? (\n              <li  key       = {item.id}>\n              <img src       = {item.img} alt = '' />\n              <div className = 'product-interactions-container'>\n                  <h3>{item.name}</h3>\n                  <div    className = 'counter-container'>\n                  <button onClick   = {() => handlePlus(item)}>+</button>\n                    <span>{(item.count)}</span>\n                    <button onClick = {() => handleMinus(item)}>-</button>\n                  </div>\n\n                </div>\n                    <button onClick = {() => deleteProductOnCart(item)}>\n                      Remover\n                    </button>\n              </li>\n            ): null ))}\n        </ul> \n      <div className = 'total-price'>\n        <h2>Total</h2>\n        <span>{(totalPrice).toFixed(2)}</span>\n      </div>\n      <StyledButtonSecondary className='title1' onClick = {() => setProductsOnCart([])}>Remover todos</StyledButtonSecondary>\n    </div>\n  </StyledCartModal>)\n}\n\nexport default CartModal"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAA8BC,qBAAqB,QAAQ,sBAAsB;AACjF,SAASC,eAAe,QAAQ,UAAU;AAAA;AAC1C,MAAMC,SAAS,GAAG,MAAO;EAAA;EAUvB,MAAM;IAAEC,YAAY;IAAEC,cAAc;IAAEC,iBAAiB;IAAEC,YAAY;IAAEC,gBAAgB;IAAEC,mBAAmB;IAAEC;EAAoB,CAAC,GAAGZ,UAAU,CAACE,WAAW,CAAC;EAE7JD,SAAS,CAAE,MAAM;IACfO,iBAAiB,CAACC,YAAY,CAAC;EACjC,CAAC,EAAC,EAAE,CAAC;EAEL,SAASI,UAAU,GAAI;IACrBP,YAAY,CAAC,KAAK,CAAC;EACrB;EAEA,MAAMQ,UAAU,GAAGP,cAAc,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGE,MAAM,CAACD,IAAI,CAACE,KAAK,GAAGF,IAAI,CAACG,KAAK,CAAC,EAAE,CAAC,CAAC;EACjG,SAASC,UAAU,GAAG;IACpB,OAAOd,cAAc,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEM,OAAO,KAAKN,GAAG,GAAGM,OAAO,CAACH,KAAK,EAAE,CAAC,CAAC;EACxE;EACA,SAASI,UAAU,CAAEN,IAAc,EAAG;IACpCI,UAAU,EAAE;IACZ,MAAMG,UAAU,GAAGH,UAAU,EAAE;IAC/BX,gBAAgB,CAACO,IAAI,CAAC;IACtBQ,YAAY,CAACC,OAAO,CAAC,YAAY,EAAG,GAAEF,UAAW,EAAC,CAAC;EACrD;EACA,SAASG,WAAW,CAAEV,IAAc,EAAG;IACrCI,UAAU,EAAE;IACZ,MAAMG,UAAU,GAAGH,UAAU,EAAE;IAC/BV,mBAAmB,CAACM,IAAI,CAAC;IACzBQ,YAAY,CAACC,OAAO,CAAC,YAAY,EAAG,GAAEF,UAAW,EAAC,CAAC;EACrD;EAGA,oBACE,QAAC,eAAe;IAAC,SAAS,EAAG,iBAAiB;IAAA,uBAC9C;MAAiB,SAAS,EAAG,gBAAgB;MAAA,wBAC7C;QAAiB,SAAS,EAAG,cAAc;QAAA,wBACvC;UAAA,UAAI;QAAmB;UAAA;UAAA;UAAA;QAAA,QAAK,eAC5B;UAAQ,SAAS,EAAG,WAAW;UAAC,OAAO,EAAIX,UAAW;UAAA,UAAC;QAEvD;UAAA;UAAA;UAAA;QAAA,QAAS;MAAA;QAAA;QAAA;QAAA;MAAA,QACL,eACJ;QAAA,UACKN,cAAc,CAACqB,GAAG,CAAEX,IAAI,IAAMA,IAAI,CAACE,KAAK,GAAG,CAAC,gBAC3C;UAAA,wBACA;YAAK,GAAG,EAAUF,IAAI,CAACY,GAAI;YAAC,GAAG,EAAG;UAAE;YAAA;YAAA;YAAA;UAAA,QAAG,eACvC;YAAK,SAAS,EAAG,gCAAgC;YAAA,wBAC7C;cAAA,UAAKZ,IAAI,CAACa;YAAI;cAAA;cAAA;cAAA;YAAA,QAAM,eACpB;cAAQ,SAAS,EAAG,mBAAmB;cAAA,wBACvC;gBAAQ,OAAO,EAAM,MAAMP,UAAU,CAACN,IAAI,CAAE;gBAAA,UAAC;cAAC;gBAAA;gBAAA;gBAAA;cAAA,QAAS,eACrD;gBAAA,UAAQA,IAAI,CAACE;cAAK;gBAAA;gBAAA;gBAAA;cAAA,QAAS,eAC3B;gBAAQ,OAAO,EAAI,MAAMQ,WAAW,CAACV,IAAI,CAAE;gBAAA,UAAC;cAAC;gBAAA;gBAAA;gBAAA;cAAA,QAAS;YAAA;cAAA;cAAA;cAAA;YAAA,QAClD;UAAA;YAAA;YAAA;YAAA;UAAA,QAEF,eACF;YAAQ,OAAO,EAAI,MAAML,mBAAmB,CAACK,IAAI,CAAE;YAAA,UAAC;UAEpD;YAAA;YAAA;YAAA;UAAA,QAAS;QAAA,GAbGA,IAAI,CAACc,EAAE;UAAA;UAAA;UAAA;QAAA,QAcpB,GACJ,IAAM;MAAC;QAAA;QAAA;QAAA;MAAA,QACT,eACP;QAAK,SAAS,EAAG,aAAa;QAAA,wBAC5B;UAAA,UAAI;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK,eACd;UAAA,UAAQjB,UAAU,CAAEkB,OAAO,CAAC,CAAC;QAAC;UAAA;UAAA;UAAA;QAAA,QAAQ;MAAA;QAAA;QAAA;QAAA;MAAA,QAClC,eACN,QAAC,qBAAqB;QAAC,SAAS,EAAC,QAAQ;QAAC,OAAO,EAAI,MAAMxB,iBAAiB,CAAC,EAAE,CAAE;QAAA,UAAC;MAAa;QAAA;QAAA;QAAA;MAAA,QAAwB;IAAA;MAAA;MAAA;MAAA;IAAA;EACnH;IAAA;IAAA;IAAA;EAAA,QACU;AACpB,CAAC;AAAA,GAzEKH,SAAS;AAAA,KAATA,SAAS;AA2Ef,eAAeA,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}